<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Matt O’Donnell">
<meta name="dcterms.date" content="2024-02-04">
<meta name="description" content="Do LLMs get prepositional associations">

<title>Prompting LLMs - On or In a Bike/Train/Spaceship?</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Prompting LLMs</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">On or In a Bike/Train/Spaceship?</h1>
                  <div>
        <div class="description">
          Do LLMs get prepositional associations
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">LLMs</div>
                <div class="quarto-category">prompting</div>
                <div class="quarto-category">language</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Matt O’Donnell </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">February 4, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<div id="baa7a5db-05cf-48bb-8d49-1755440f3ce2" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> IPython.display <span class="im">import</span> display, Markdown</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> re</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="on-a-train-or-in-a-train" class="level2">
<h2 class="anchored" data-anchor-id="on-a-train-or-in-a-train"><em>On</em> a train or <em>In</em> a train?</h2>
<p>A common challenge for learners of English is knowing which PREPOSITION (e.g.&nbsp;<em>in</em> or <em>on</em>) to use in different contexts.</p>
<p>One example of this the situation where you are describing where you are when in different kinds of vehicles. For example:</p>
<blockquote class="blockquote">
<p>🚆 I am <strong>on</strong> a train</p>
<p>🚕 I am <strong>in</strong> an taxi</p>
</blockquote>
<ul>
<li>How do we know when to use <code>in</code> and when to use <code>on</code>?</li>
</ul>
<section id="englishwithlucy-to-the-rescue" class="level3">
<h3 class="anchored" data-anchor-id="englishwithlucy-to-the-rescue"><code>@EnglishwithLucy</code> to the rescue!</h3>
<p>The other day a Short from Lucy turned up on my YouTube addressing this specific issue.</p>
<p><a href="https://youtube.com/shorts/V6d8erAPL5w?si=FlHjAFItE-b67aEi"> <img src="img/lucy1.png" width="130px"> </a></p>
<p>And she promised:</p>
<blockquote class="blockquote">
<p>I will teach you to know the correct answer every single time</p>
</blockquote>
<section id="lucys-answer" class="level4">
<h4 class="anchored" data-anchor-id="lucys-answer">Lucy’s answer…</h4>
<p>Lucy promised her rule will make it so you never have to think about it again!</p>
<section id="rule-for-on-a-vehicle" class="level5">
<h5 class="anchored" data-anchor-id="rule-for-on-a-vehicle">1. Rule for <em>ON</em> a vehicle</h5>
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="img/lucy2.png" class="img-fluid quarto-figure quarto-figure-left figure-img" width="100"></p>
</figure>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>If you can walk onto the vehicle standing up on your feet, then its ON…</p>
<p>Examples: You get ON a plane, train, bus, tram</p>
</div>
</div>
</section>
<section id="rule-for-in-a-vehicle" class="level5">
<h5 class="anchored" data-anchor-id="rule-for-in-a-vehicle">2. Rule for <em>IN</em> a vehicle</h5>
<p><img src="img/lucy3.png" width="100px"></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>If you have to crouch down and sit in the vehicle–if you have to make yourself smaller–you get IN..</p>
<p>Examples: You get IN a car, taxi, helicopter</p>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
But does it really work like that?
</div>
</div>
<div class="callout-body-container callout-body">
<p>However, if you think for a moment you can see that maybe it isn’t that straight forward.</p>
<p>Sometimes you might use <em>in</em> in one context and <em>on</em> in another for the same vehicle. Especially, those in the second category.</p>
<ul>
<li>I am <em>on</em> a plane right now…</li>
<li>Let me call you back I’m <em>in</em> a plane…</li>
</ul>
</div>
</div>
</section>
</section>
</section>
</section>
<section id="what-do-llms-say-about-this" class="level2">
<h2 class="anchored" data-anchor-id="what-do-llms-say-about-this">What do LLMs say about this?</h2>
<p>Given that LLMs are train on huge amounts of data, the majority of it capturing instances of people using English and they excel at generalizing to patterns and templates, it seems like a reasonable assumption that most LLMs would have little trouble using the right preposition.</p>
<p>That is, you are unlikely to generate the text:</p>
<pre><code>Speaker 1: Hey where are you right now?
Speaker 2: Oh I'm ON a car
...</code></pre>
<p>Unless, I suppose Speaker 2 happens to be car surfing!</p>
<p><img src="img/car_surfing.jpeg" class="img-fluid"></p>
<section id="bing-chat-gpt-4" class="level3">
<h3 class="anchored" data-anchor-id="bing-chat-gpt-4">Bing CHAT (GPT 4)</h3>
<blockquote class="blockquote">
<p>PROMPT:</p>
<p>I am traveling using a specific vehicle. I get a call from someone and they ask “Where are you?”. I might reply “I am IN a/an X” or “I am ON a/an Y”. Can you create a list of 10 vehicles that would be used in place of X (in a/an X) and 10 for those used for Y.</p>
</blockquote>
<p>Generated the following response:</p>
<blockquote class="blockquote">
<p>RESPONSE:</p>
<p>Sure, I can create such a list for you. Here are some possible vehicles that you can use in place of X or Y:</p>
<ul>
<li>I am <strong>in</strong> a/an:
<ul>
<li>car</li>
<li>taxi</li>
<li>bus</li>
<li>train</li>
<li>airplane</li>
<li>helicopter</li>
<li>submarine</li>
<li>spaceship</li>
<li>tank</li>
<li>limousine</li>
</ul></li>
<li>I am <strong>on</strong> a/an:
<ul>
<li>bike</li>
<li>motorcycle</li>
<li>boat</li>
<li>ship</li>
<li>skateboard</li>
<li>scooter</li>
<li>horse</li>
<li>camel</li>
<li>roller coaster</li>
<li>surfboard</li>
</ul></li>
</ul>
<p>I hope this helps you with your question. 😊</p>
</blockquote>
<section id="observations" class="level4">
<h4 class="anchored" data-anchor-id="observations">Observations</h4>
<ol type="1">
<li>There are no overlapping items</li>
<li>Bing Chat doesn’t seem to be following Lucy’s rules here
<ul>
<li>❌ I am IN a bus</li>
<li>❌ I am IN a train</li>
<li>❌ I am IN an airplane</li>
</ul></li>
<li>Skateboards and surfboards are something that seem outside of those rules too.</li>
</ol>
</section>
<section id="does-the-llm-have-a-rule-it-can-explain" class="level4">
<h4 class="anchored" data-anchor-id="does-the-llm-have-a-rule-it-can-explain">Does the LLM have a ‘rule’ it can explain?</h4>
<p>I followed up by asking how the LLM was deciding between <em>in</em> and <em>on</em>:</p>
<blockquote class="blockquote">
<p>PROMPT:</p>
<p>How do you decide between using IN or ON in this context?</p>
</blockquote>
<p>And it gave a lengthy response making use of sources from a websearch.</p>
<blockquote class="blockquote">
<p>RESPONSE:</p>
<p>There is no definitive rule for choosing between IN or ON for vehicles, but there are some general guidelines that can help you most of the time. Here are some of them:</p>
<ul>
<li>Use IN when you are talking about a <strong>small</strong> or <strong>personal</strong> vehicle that has a <strong>compartment</strong> that surrounds you, such as a car, a taxi, a van, a train, an airplane, a helicopter, a submarine, or a spaceship.</li>
<li>Use ON when you are talking about a <strong>large</strong> or <strong>public</strong> vehicle that allows you to <strong>move around freely</strong> inside it, such as a bus, a boat, a ship, a roller coaster, or a plane.</li>
<li>Use ON when you are talking about a vehicle that you <strong>ride</strong> on top of, without a compartment, such as a bike, a motorcycle, a skateboard, a scooter, a horse, a camel, or a surfboard.</li>
</ul>
<p>These are not absolute rules, and there may be some exceptions or variations depending on the context or the type of vehicle. For example, you can say that you are IN a canoe or a kayak, even though they are small and open, because you are sitting inside them. You can also say that you are ON a yacht or a cruise ship, even though they are large and enclosed, because you can walk around on them.</p>
<p>If you want to learn more about this topic, you can check out some of the web search results that I found for you¹²³. I hope this helps you with your question. 😊</p>
<p>Source: Conversation with Bing, 2/8/2024 1. “In” and “on”: How can I decide which one to use for vehicles?. https://ell.stackexchange.com/questions/155/in-and-on-how-can-i-decide-which-one-to-use-for-vehicles. 2. What is the correct word to use for vehicles: in or on?. https://www.britannica.com/dictionary/eb/qa/What-is-the-correct-word-to-use-for-vehicles-in-or-on-. 3. When to use “in” and “on” | Britannica Dictionary. https://www.britannica.com/dictionary/eb/qa/When-to-use-prepositions-in-and-on.</p>
</blockquote>
</section>
<section id="observations-1" class="level4">
<h4 class="anchored" data-anchor-id="observations-1">Observations</h4>
<ol type="1">
<li>It gives “guidelines” similar to Lucy’s rules, with the addition of a third one for “a vehicle that you ride on top of, without a compartment”, like a bike.</li>
<li>HOWEVER, some of the examples of vehicles are the opposite. For example, IN A PLANE vs ON A PLANE.</li>
<li>It cites some sources used in generating the answer. This is because Bing Chat is GPT4 where the results from a Bing search for a summary of your query are added to your query to augment the prompt, i.e.&nbsp;it is a Retrieval Augmented Generation or RAG system.</li>
</ol>
</section>
</section>
<section id="trying-a-smaller-open-source-model" class="level3">
<h3 class="anchored" data-anchor-id="trying-a-smaller-open-source-model">Trying a smaller open source model</h3>
<ul>
<li><p>Using Ollama (ollama.ai)–tool that lets you use smaller large language models on a laptop–I tried exploring the same question using a range of different prompts.</p></li>
<li><p>I queried the <code>llama2-7b-chat</code> model (see https://ollama.ai/library/llama2 for details)</p></li>
<li><p>The complete transcript is in the file <code>llama2-7b_transcript.txt</code></p></li>
</ul>
<div id="6e21a597-38c0-4724-80b1-b9045ec9f734" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>llama2_ts <span class="op">=</span> <span class="bu">open</span>(<span class="st">'llama2-7b_transcript.txt'</span>).read()</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>responses <span class="op">=</span> [resp <span class="cf">for</span> resp <span class="kw">in</span> re.split(<span class="st">'(?=PROMPT)'</span>,llama2_ts) <span class="cf">if</span> resp]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>I began with a specific example of taking a taxi journey to see how the LLM would complete the phrase “I am currently …”</p>
<div id="74c8e2a0-2ff8-4645-be4c-972a4e98ca60" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(responses[<span class="dv">0</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>PROMPT: You take a taxi journey and receive a phone call. How would you describe your location to the person you are speaking to. 'I am currently ... 

RESPONSE: Great, thank you for asking! I can definitely help you with that.

So, if I'm in a taxi and receive a phone call, I would likely describe my 
location by giving the nearest landmark or cross streets. For example, I 
might say something like: "I'm currently at the intersection of 5th Avenue 
and 23rd Street in Manhattan."

Alternatively, if I have a specific destination in mind, I might give more 
detailed directions, such as: "I'm heading to the Empire State Building, 
which is located on 34th Street between 5th and 6th Avenues."

Of course, the exact way I would describe my location would depend on the 
context of the call and the specific location I am in. But hopefully, these 
examples give you a general idea of how I might respond!

</code></pre>
</div>
</div>
<section id="observations-2" class="level4">
<h4 class="anchored" data-anchor-id="observations-2">Observations</h4>
<ol type="1">
<li>Llama2 has been finetune to be a <strong>helpful</strong> conversation assistant. So is always very polite in responses, e.g.&nbsp;“Great, thank you for asking!”</li>
<li>Using the word <code>location</code> in the prompt seems to push the LLM to focus outside of the location of the speaker, i.e.&nbsp;“IN A TAXI”, to a more general (and perhaps intuitive) sense of where the taxi currently is in terms of the journey the person is taking.</li>
<li>However, it does use the expected preposition in the response: &gt; So, if I’m <strong>in a taxi</strong> and receive a phone call …</li>
</ol>
<p>Repeating the prompt but for a TRAIN instead of a TAXI:</p>
<div id="c125ee89-52fe-4a28-8fc4-6d2d7792e8e0" class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(responses[<span class="dv">1</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>PROMPT: You take a train journey and receive a phone call. How would you describe your location to the person you are speaking to. 'I am currently ...

RESPONSE: Great, thank you for asking! If I'm on a train journey and receive a phone 
call, I would likely describe my location by giving the name of the city or 
town we are passing through, along with the approximate distance from the 
destination. For example, I might say something like: "I am currently 
traveling through Philadelphia, which is about 20 miles west of New York 
City."

Alternatively, if I have a specific location in mind, such as a nearby 
landmark or attraction, I might give more detailed directions, such as: "I'm
passing by Independence Hall in Philadelphia, which is located downtown and 
about 2 miles from the train station."

Of course, the exact way I would describe my location would depend on the 
context of the call and the specific route and stops on the train journey. 
But hopefully, these examples give you a general idea of how I might 
respond![INST0]

</code></pre>
</div>
</div>
</section>
<section id="observations-3" class="level4">
<h4 class="anchored" data-anchor-id="observations-3">Observations</h4>
<ol type="1">
<li>Same points as above regarding the interpretation of <code>location</code> as reference to the currently stage of the journey.</li>
<li>And again in setting up the response, the LLM responds with the expected preposition (<strong>ON</strong>) &gt; If I’m on a train journey and receive a phone call,</li>
</ol>
</section>
<section id="trying-a-template-prompt" class="level4">
<h4 class="anchored" data-anchor-id="trying-a-template-prompt">Trying a template prompt</h4>
<p>Next, I tried to direct the LLM more specifically using a fill in the word template.</p>
<blockquote class="blockquote">
<p>I am X a taxi</p>
</blockquote>
<div id="97df859b-b0e9-42c0-8207-20debb2d3bf8" class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(responses[<span class="dv">2</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>PROMPT: What word would you use in place of X in the clause "I am X a taxi"

RESPONSE: Great, thank you for asking! If we are trying to fill in the blank with a 
word that would be appropriate in the sentence "I am X a taxi," some 
possible options could include:

* Driver (as in, "I am John a taxi driver")
* Passenger (as in, "I am Sarah a taxi passenger")
* Rider (as in, "I am Tom a taxi rider")
* Customer (as in, "I am Jane a taxi customer")
* User (as in, "I am David a taxi user")

Of course, the exact word we would use would depend on the context and the 
relationship of the speaker to the taxi service. But hopefully, these 
options give you some ideas for how we might fill in the blank

</code></pre>
</div>
</div>
</section>
<section id="observations-4" class="level4">
<h4 class="anchored" data-anchor-id="observations-4">Observations</h4>
<ol type="1">
<li>My assumption that the most likely word to fill the <code>X</code> slot would be a preposition, i.e.&nbsp;either <code>in</code> or <code>on</code> wasn’t quite right in this case.</li>
<li>It provides a range of options for people who would be associated with a taxi, e.g.&nbsp;driver, passenger, rider, customer etc.</li>
</ol>
</section>
<section id="trying-to-be-more-specific" class="level4">
<h4 class="anchored" data-anchor-id="trying-to-be-more-specific">Trying to be more specific</h4>
<p>So I went back and asked for just one word to fill the <code>X</code> slot and an example <code>X=on</code></p>
<div id="7c4ef02d-22c8-4f7d-8e40-d613e7701ab9" class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(responses[<span class="dv">3</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>PROMPT: Just one word. So "I am X a plane" X=on

RESPONSE: Ah, I see! If we are trying to fill in the blank with just one word, here 
are some options that could work in the sentence "I am X a plane":

* On (as in, "I am John on a plane")
* In (as in, "I am Sarah in a plane")
* At (as in, "I am Tom at an airport")
* Onboard (as in, "I am Jane onboard a plane")

Of course, the exact word we would use would depend on the context and the 
relationship of the speaker to the flight. But hopefully, these options give
you some ideas for how we might fill in the blank!

</code></pre>
</div>
</div>
</section>
<section id="observations-5" class="level4">
<h4 class="anchored" data-anchor-id="observations-5">Observations</h4>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>